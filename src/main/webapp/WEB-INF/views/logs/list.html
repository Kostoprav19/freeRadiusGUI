<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Logs</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="icon" type="image/png" th:href="@{/resources/img/favico.png}" />
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen" th:href="@{/resources/css/bootstrap.min.css}"/>
    <link href="css/core.css" rel="stylesheet" media="screen" th:href="@{/resources/css/core.css}" />
    <script src="js/jquery-2.2.4.js" th:src="@{/resources/js/jquery-2.2.4.min.js}"></script>
    <script src="js/bootstrap.min.js" th:src="@{/resources/js/bootstrap.min.js}"></script>
</head>
<body>
<div th:replace="fragments/header :: ${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? 'header-admin' : 'header'">&nbsp;</div>
<div class="container">
    <th:block th:if="${msg != null}">
        <div th:replace="fragments/alert :: alert (type=${msgType}, message=${msg})">Alert</div>
    </th:block>
    <div class="page-header">
        <h1>Logs</h1>
    </div>
    <a role="button" class="btn btn-info" th:href="@{/logs/refresh}"><span class="glyphicon glyphicon-refresh"></span> Refresh</a>
    <table class="table table-striped">
            <thead>
            <tr>
                <th>Time of Registration</th>
                <th>Mac</th>

                <th>Status</th>
                <th>Switch</th>
                <th>Port</th>
                <th>Port Speed</th>
                <th>Duplex</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="log : ${logs}">
                <td th:text="${log.timeOfRegistration != null} ? ${#temporals.format(log.timeOfRegistration, 'dd.MM.yyyy HH:mm')} : 'N/a'"></td>
                <td th:text="${log.mac}"></td>

                <td th:text="${log.status == 1} ? 'Accept' : 'Reject'"></td>
                <td th:text="${log.switch != null} ? ${log.switch.name} : 'N/a'"></td>
                <td th:text="${log.switchPort}"></td>
                <td th:text="${log.portSpeed} + ' Mbps'"></td>
                <td th:text="${log.duplex == 1} ? 'Full' : 'Half'"></td>
                <td>
                    <a role="button" class="btn btn-info btn-xs" th:href="@{/log/{id}(id=${log.id})}"><span class="glyphicon glyphicon-edit"></span> Edit</a>
                </td>
            </tr>
            </tbody>
        </table>
    <a role="button" class="btn btn-info" th:href="@{/logs/refresh}"><span class="glyphicon glyphicon-refresh"></span> Refresh</a>
    <div th:replace="fragments/footer :: footer"></div>
</div>

</body>
</html>